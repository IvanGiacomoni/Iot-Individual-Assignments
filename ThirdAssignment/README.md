# Third assignment
The goal of this assignment is to replace the wireless mesh network with a **long-range low-power wide area network**: in particular we will focus on the development of IoT Edge Analytics.

## Motivations
These networks are used because, at some point, we have to connect a lot of devices to the Internet and so, even if we have Bluetooth or Wifi, we need some other better technologies with a **wider range** for the networking. **Endpoints costs** need to be low, and also we need to send a **small amount of data**. The **energy consumption** must be low.
In a **LPWAN**, the data rate is selected by a **tradeoff** between the **communication range** and the **duration of the message**. What is very important is the **battery life**, and also the **range**, which has to be about **2-5 km** of coverage range in **urban perimeters** and about **45 km** in **rural areas**. We also have to consider the **latency** and the **throughput** (data rates between **290 bps** and **50 kbps**).

## How is the long-range low-power wide are network going to affect the IoT platform?
For my system, given that one of the main constraints is that of having a **real time** evaluation of a possible gas leak, LoraWAN is not so useful, due to its internal latency caused by the **low data rate**. Also for the **battery life**, my system does not have problems, because Gas-Leak-and-Fire-Notifier is thought to be useful in a home environment, especially in the kitchen, and so we will always have the power supply needed for the device. A possible scenario where LoraWAN could be useful is into a house where we don't have any Wifi (and so also MQTT) or Bluetooth available, but we know that within a certain range we will find a LoraWAN gateway that could be exploited for our purposes. Another limitation that we could encounter with LoraWAN in, as explained in the introduction, that we need to send a small **small amount of data** over the Internet, so an improvement that we could do with respect to the previous assignments is to send only data related to a **warning** situation or to a **danger** situation, avoiding those related to a **good** situation.

## What are the connected components, the protocols to connect them and the overall IoT architecture?
Below we can see a picture that highlights all the connected components:

![img](https://github.com/IvanGiacomoni/Iot-Individual-Assignments/blob/main/ThirdAssignment/images/architecture-hw-3.png)

The long-range low-power wide area network will be simulated on [Iot-lab](https://www.iot-lab.info/), where we need to setup at least one **B-L072Z-LRWAN1-node** for running our **application**. From each device on Iot-lab we will send the data to [TheThingsNetwork](https://www.thethingsnetwork.org/), which is a public Lora network, that can be exploited to connect the devices on Iot-lab to a gateway (potentially owned by another person) on this network where **Iot-Core** by **MQTT**, that is a service provided by AWS that uses MQTT and that we can exploit to receive data coming from our devices. So, after Mosquitto redirects our data to Iot-Core, there is the needing to save them in the cloud: my choice was **DynamoDB**, a noSQL database provided by AWS. Once data are stored in the db, we can query them using an appropriate server in order to finally show them on the **front-end** side. My choice for the back-end side was **NodeJS**, while for the front-end side I used **HTML, Bootstrap, Javascript and Vue-js**. The frontend and the backend will create the **Web Dashboard**. Finally, the frontend will be used also to **control the state of actuators**.
